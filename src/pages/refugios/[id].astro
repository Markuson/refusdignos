---
// Page: Refuge Detail (/refugios/[id])
// Description: Display detailed information about a specific refuge

import BaseLayout from '../../layouts/BaseLayout.astro';
import { refugios } from '../../data/refugios';

export async function getStaticPaths() {
  return refugios.map((refugio) => ({
    params: { id: refugio.id.toString() },
    props: { refugio },
  }));
}

const { refugio } = Astro.props;
---

<BaseLayout
  title={`${refugio.nombre} - RefugiosLibresDignos`}
  description={refugio.descripcion}
>
  <!-- Breadcrumb Navigation -->
  <nav class="bg-background-light py-3" style="margin-top: 80px;">
    <div class="container mx-auto px-4">
      <ol class="flex items-center space-x-2 text-sm text-forest-green/70">
        <li><a href="/" class="hover:text-sunrise-orange transition-colors">Inicio</a></li>
        <li><span class="text-forest-green/40">/</span></li>
        <li><a href="/refugios" class="hover:text-sunrise-orange transition-colors">Refugios</a></li>
        <li><span class="text-forest-green/40">/</span></li>
        <li class="text-forest-green font-semibold">{refugio.nombre}</li>
      </ol>
    </div>
  </nav>

  <!-- Hero Section -->
  <section class="bg-background-dark py-12">
    <div class="container mx-auto px-4">
      <div class="max-w-4xl mx-auto">
        <h1 class="text-4xl md:text-5xl font-bold text-forest-green mb-6">{refugio.nombre}</h1>

        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 text-forest-green/80">
          <div class="flex items-center gap-2">
            <span class="text-2xl">üìç</span>
            <div>
              <div class="text-xs text-forest-green/60 uppercase tracking-wide">Ubicaci√≥n</div>
              <div class="font-semibold">{refugio.ubicacion}</div>
            </div>
          </div>
          <div class="flex items-center gap-2">
            <span class="text-2xl">‚õ∞Ô∏è</span>
            <div>
              <div class="text-xs text-forest-green/60 uppercase tracking-wide">Altitud</div>
              <div class="font-semibold">{refugio.altitud}</div>
            </div>
          </div>
          <div class="flex items-center gap-2">
            <span class="text-2xl">üë•</span>
            <div>
              <div class="text-xs text-forest-green/60 uppercase tracking-wide">Capacidad</div>
              <div class="font-semibold">{refugio.capacidad}</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Image Gallery Section -->
  <section class="py-12 bg-white">
    <div class="container mx-auto px-4">
      <div class="max-w-4xl mx-auto">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          {refugio.imagenes.map((imagen, index) => (
            <div class="relative bg-tan/30 rounded-lg overflow-hidden aspect-video flex items-center justify-center">
              <div class="text-center p-8">
                <div class="text-4xl mb-2">üèîÔ∏è</div>
                <p class="text-forest-green/70 text-sm">{imagen.caption}</p>
                <p class="text-forest-green/50 text-xs mt-2 italic">Imagen pr√≥ximamente</p>
              </div>
            </div>
          ))}
        </div>

        {refugio.imagenes.length === 0 && (
          <div class="bg-tan/30 rounded-lg p-16 text-center">
            <p class="text-forest-green/70">Galer√≠a de im√°genes pr√≥ximamente</p>
          </div>
        )}
      </div>
    </div>
  </section>

  <!-- Description Section -->
  <section class="py-12 bg-background-light">
    <div class="container mx-auto px-4">
      <div class="max-w-4xl mx-auto">
        <div class="prose prose-lg max-w-none">
          <h2 class="text-3xl font-bold text-forest-green mb-6">Sobre este refugio</h2>
          <div class="text-forest-green/90 space-y-4 leading-relaxed whitespace-pre-line">
            {refugio.descripcionLarga}
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Brindado A Section -->
  <section class="py-12 bg-tan/30">
    <div class="container mx-auto px-4">
      <div class="max-w-4xl mx-auto">
        <div class="bg-white rounded-lg p-8 shadow-md">
          <h2 class="text-2xl font-bold text-forest-green mb-4 flex items-center gap-2">
            <span class="text-3xl">‚ù§Ô∏è</span>
            Brindado a
          </h2>
          <p class="text-forest-green/90 text-lg leading-relaxed">
            {refugio.brindadoA}
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- Project Date Section -->
  <section class="py-8 bg-background-light">
    <div class="container mx-auto px-4">
      <div class="max-w-4xl mx-auto text-center">
        <div class="inline-flex items-center gap-2 bg-white px-6 py-3 rounded-full shadow-sm">
          <span class="text-xl">üìÖ</span>
          <span class="text-forest-green/70 text-sm">Proyecto:</span>
          <span class="text-forest-green font-semibold">{refugio.fecha}</span>
        </div>
      </div>
    </div>
  </section>

  <!-- Back to Refugios Section -->
  <section class="py-12 bg-tan/30">
    <div class="container mx-auto px-4">
      <div class="max-w-4xl mx-auto text-center space-y-6">
        <a href="/refugios" class="btn btn-secondary inline-block">
          ‚Üê Volver a todos los refugios
        </a>

        <div class="pt-6 border-t border-forest-green/20">
          <h3 class="text-xl font-bold text-forest-green mb-3">¬øQuieres apoyar este proyecto?</h3>
          <p class="text-forest-green/80 mb-4">
            Cada refugio es posible gracias a la colaboraci√≥n de voluntarios, donantes y patrocinadores.
          </p>
          <a href="/contacto" class="btn btn-primary inline-block">
            Contacta con nosotros
          </a>
        </div>
      </div>
    </div>
  </section>
</BaseLayout>

<style>
  .prose {
    color: inherit;
  }

  .prose h2 {
    color: var(--color-forest-green);
  }
</style>
